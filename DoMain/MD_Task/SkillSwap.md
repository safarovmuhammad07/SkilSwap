# Задание: Создание API для платформы обмена навыками и услугами  

## Описание задачи  
Необходимо разработать веб-приложение на основе **.NET 9** с использованием **Dapper** и **PostgreSQL** для платформы обмена навыками и услугами. Пользователи смогут предлагать свои услуги или навыки (например, уроки игры на гитаре, помощь в ремонте, написание текстов) и искать других пользователей для обмена. Все API-методы должны поддерживать асинхронные операции с использованием **async/await**.  

---

## Требования  

### 1. База данных  
Создайте базу данных с таблицами, описанными ниже.  

#### **`Users` (Пользователи)**  
- `UserId` (int, PK) — уникальный идентификатор пользователя.  
- `FullName` (varchar, 150) — полное имя пользователя.  
- `Email` (varchar, 150) — электронная почта.  
- `Phone` (varchar, 20) — номер телефона.  
- `City` (varchar, 100) — город проживания.  
- `CreatedAt` (timestamp) — дата регистрации.  

#### **`Skills` (Навыки и услуги)**  
- `SkillId` (int, PK) — уникальный идентификатор навыка или услуги.  
- `UserId` (int, FK → Users.UserId) — идентификатор пользователя, предложившего навык.  
- `Title` (varchar, 150) — название навыка или услуги (например, "Уроки гитары").  
- `Description` (text) — описание навыка или услуги.  
- `CreatedAt` (timestamp) — дата добавления навыка или услуги.  

#### **`Requests` (Запросы на обмен)**  
- `RequestId` (int, PK) — уникальный идентификатор запроса.  
- `FromUserId` (int, FK → Users.UserId) — идентификатор пользователя, инициировавшего запрос.  
- `ToUserId` (int, FK → Users.UserId) — идентификатор пользователя, которому направлен запрос.  
- `RequestedSkillId` (int, FK → Skills.SkillId) — идентификатор навыка или услуги, запрашиваемой у другого пользователя.  
- `OfferedSkillId` (int, FK → Skills.SkillId) — идентификатор навыка или услуги, предлагаемой в обмен.  
- `Status` (varchar, 20) — статус запроса (например, "Pending", "Accepted", "Rejected").  
- `CreatedAt` (timestamp) — дата создания запроса.  
- `UpdatedAt` (timestamp) — дата последнего изменения статуса.  

---

### 2. Функционал API  
API должно предоставлять следующие возможности:  

#### **1. Управление пользователями (`Users`)**  
- Регистрация нового пользователя.  
- Получение списка всех пользователей.  
- Получение информации о конкретном пользователе.  
- Обновление данных пользователя.  
- Удаление пользователя.  

#### **2. Управление навыками и услугами (`Skills`)**  
- Добавление нового навыка или услуги.  
- Получение списка всех навыков и услуг.  
- Получение навыков и услуг конкретного пользователя.  
- Обновление данных о навыке или услуге.  
- Удаление навыка или услуги.  

#### **3. Управление запросами на обмен (`Requests`)**  
- Создание нового запроса: пользователь выбирает навык/услугу, который хочет предложить, и навык/услугу, который хочет получить.  
- Получение всех запросов (фильтрация по статусу: "Pending", "Accepted", "Rejected").  
- Получение истории запросов конкретного пользователя.  
- Обновление статуса запроса (например, "Accepted" или "Rejected").  

#### **4. Дополнительные интересные запросы (`Queries`)**

- Получение списка пользователей, которые предлагают определенную услугу или навык.
- Получение списка всех пользователей, которые хотят обменять свои навыки или услуги в определённый время.
- Получение списка самых популярных услуг и навыков среди пользователей.

**Примечание:** Если для выполнения этих запросов необходимо изменить структуру базы данных (например, добавить новые поля или таблицы), такие изменения допустимы в процессе разработки проекта. Все изменения должны быть согласованы с проектом для обеспечения целостности данных и корректности работы системы.

---

### 3. Требования к реализации  
1. Используйте **.NET 9** для разработки API.  
2. Реализуйте взаимодействие с базой данных через **Dapper** и **Npgsql**.  
3. Обеспечьте поддержку асинхронных операций с использованием **async/await**.  
4. Все ответы API должны возвращаться в формате **ApiResponse**.  
